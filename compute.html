<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Dynamic MCQ Quiz with Immediate Feedback</title>
<style>
    body {
        font-family: Arial, sans-serif;
        background: #f0f4f8;
        padding: 20px;
    }
    .quiz-container {
        background: #fff;
        padding: 30px;
        max-width: 700px;
        margin: auto;
        border-radius: 10px;
        box-shadow: 0 0 15px rgba(0,0,0,0.1);
    }
    h2 { text-align: center; color: #333; }
    .question { margin-top: 20px; }
    .option {
        margin: 8px 0;
        padding: 8px;
        border-radius: 5px;
        cursor: pointer;
        transition: all 0.3s ease;
    }
    .option:hover { background: #e0f0ff; }
    .correct { background-color: #d4edda; border-left: 5px solid #28a745; }
    .wrong { background-color: #f8d7da; border-left: 5px solid #dc3545; }
    input[type="radio"] { margin-right: 10px; }
    #result {
        margin-top: 25px;
        font-weight: bold;
        font-size: 18px;
        text-align: center;
    }
</style>
</head>

<body>

<div class="quiz-container">
    <h2>Dynamic MCQ Quiz</h2>
    <div id="quiz">Loading questions...</div>
    <div id="result"></div>
</div>

<script>
let mcqs = [
    {
        "question": "Which AWS service allows running containers without managing servers?",
        "options": ["EC2", "Fargate", "Lambda", "ECS EC2 launch type"],
        "answer": 1
    },
    {
        "question": "Which AWS compute service is serverless and charges only for execution duration?",
        "options": ["EC2 On-Demand", "AWS Lambda", "AWS Fargate", "AWS Batch"],
        "answer": 1
    }
    // Add more questions or load from compute.json
];

function loadQuiz() {
    const quizDiv = document.getElementById("quiz");
    quizDiv.innerHTML = "";

    mcqs.forEach((q, idx) => {
        const questionDiv = document.createElement("div");
        questionDiv.classList.add("question");
        questionDiv.innerHTML = `<h3>${idx + 1}. ${q.question}</h3>`;

        q.options.forEach((opt, i) => {
            const optionDiv = document.createElement("div");
            optionDiv.classList.add("option");
            optionDiv.innerHTML = `<input type="radio" name="q${idx}" value="${i}"> ${opt}`;

            // Listen to the radio input change
            optionDiv.querySelector("input").addEventListener("change", function() {
                const selectedVal = parseInt(this.value);

                // Disable all options
                questionDiv.querySelectorAll("input").forEach(inp => inp.disabled = true);

                // Add correct/wrong styling
                questionDiv.querySelectorAll(".option").forEach((optEl, optIdx) => {
                    if (optIdx === q.answer) optEl.classList.add("correct");
                    if (optIdx === selectedVal && selectedVal !== q.answer) optEl.classList.add("wrong");
                });

                updateScore();
            });

            questionDiv.appendChild(optionDiv);
        });

        quizDiv.appendChild(questionDiv);
    });
}

function updateScore() {
    let score = 0;
    mcqs.forEach((q, idx) => {
        const questionDiv = document.querySelectorAll(".question")[idx];
        const selected = questionDiv.querySelector(`input[name="q${idx}"]:checked`);
        if (selected && parseInt(selected.value) === q.answer) score++;
    });
    document.getElementById("result").innerText = `Your Score: ${score} / ${mcqs.length}`;
}

// Initialize quiz
loadQuiz();
</script>

</body>
</html>
